(()=>{"use strict";const t=document.getElementById("resources"),e=document.getElementById("building");function n(t){document.getElementById(t.name).childNodes[1].textContent=t.count}class c{constructor(t,e){this.name=t,this.count=0,this.require=e}createButton(){(function(t){const n=document.createElement("button");return n.textContent=t,n.id=`${t}-button`,e.appendChild(n),n})(this.name).addEventListener("click",(()=>{(0==this.require.length||this.checkBuild())&&this.buildItem()}))}checkBuild(){let t=this.require.length;if(this.require.forEach((e=>{o.find((({name:t})=>t==e.name)).count>=e.count&&(t-=1)})),0==t)return this.require.forEach((t=>{const e=o.find((({name:e})=>e==t.name));e.count-=t.count,n(e)})),!0}buildItem(){const t=o.find((({name:t})=>t==this.name));t.count+=1,n(t)}}const o=[];function i(t,e){const n=new c(t,e);o.push(n),n.createButton()}i("stone",[]),i("coal",[]),i("brick",[{name:"stone",count:1},{name:"coal",count:1}]),o.forEach((e=>{const n=document.createElement("div");n.setAttribute("id",e.name);const c=document.createElement("p"),o=document.createElement("p");n.appendChild(c),n.appendChild(o),c.textContent=e.name,o.textContent=e.count,t.appendChild(n)}))})();